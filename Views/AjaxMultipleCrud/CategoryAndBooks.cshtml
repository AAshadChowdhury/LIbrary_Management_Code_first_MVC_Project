

@{
    ViewBag.Title = "CategoryAndBooks";

}

<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script src="~/Scripts/CategoryApiClient.js"></script>
<script src="~/Scripts/bootstrap.min.js"></script>


<h2>CategoryAndBooks</h2>

<div class="container">
    <p>Note: Click on the records of the category table to load the data into textboxes for editing or deleting the record. it also load the existing books under that category into books table. click on the books table to load data into top left texboxes for editng or deleting</p>
    @using (Html.BeginForm())
    {
        <div class="row">
            <div class="col-sm-4">
                <div>
                    <label for="id">Category</label><br />
                    <input type="text" name="category" id="category" />
                </div>
                <div>
                    <label for="name">CategoryInfo</label><br />
                    <textarea type="text" name="categoryInfo" id="categoryInfo"></textarea>

                </div>
                <div>
                    <input type="button" id="add" class="btn btn-primary" value="Add" />
                    <input type="button" id="delete" class="btn btn-primary" value="Delete" />
                    <input type="button" id="update" class="btn btn-primary" value="Update" />
                </div>
                <div id="out"></div>
                <table class="table table-bordered table-responsive table-hover table-striped" id="CategoriesTable">
                    <thead>
                        <tr><th>Category</th><th>Category Details</th></tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
            <div class="col-sm-8">
                <div>
                    <label for="id">Book ID</label>
                    <input type="text" name="id" id="id" />
                </div>
                <div>
                    <label for="name">Name</label>
                    <input type="text" name="name" id="name" />
                </div>
                <div>
                    <label for="author">Author</label>
                    <input type="text" name="author" id="author" />
                </div>
                <div>
                    <label for="publisher">Publisher</label>
                    <input type="text" name="publisher" id="publisher" />
                </div>
                <div>
                    <label for="category">category</label>
                    @*<input type="text" name="category" id="categoryb" />*@
                    @Html.DropDownList("category", (IEnumerable<SelectListItem>)ViewBag.ddlCategories, new { @class = "" })

                    @*@Html.DropDownList("ideptcode", (IEnumerable<SelectListItem>)ViewBag.DDLDepts)*@
                </div>
                <div>
                    <label for="stockQuantity">Quantity</label>
                    <input type="text" name="stockQuantity" id="stockQuantity" />
                </div>
                <div>
                    <label for="price">Price</label>
                    <input type="text" name="price" id="price" />
                </div>
                <div>
                    <label for="cover">CoverPicture</label>
                    <input type="text" name="cover" id="cover" /><br />
                    <input type="file" name="ImageFile" id="ImageFile" />
                </div>
                <div>
                    <input type="button" id="addBook" class="btn btn-primary" value="Add" />
                    <input type="button" id="deleteBook" class="btn btn-primary" value="Delete" />
                    <input type="button" id="updateBook" class="btn btn-primary" value="Update" />
                </div>
                <div id="iout"></div>
                <table class="table table-condensed table-bordered table-striped" id="BooksTable">
                    <thead>
                        <tr><th>id</th><th>Name</th><th>author</th><th>publisher</th><th>category</th><th>stockQuantity</th><th>price</th><th>cover</th></tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    }
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
